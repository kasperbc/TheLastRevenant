[gd_scene load_steps=65 format=3 uid="uid://cdk28anvdyvwx"]

[ext_resource type="Script" path="res://player/player_movement.gd" id="1_xsl8m"]
[ext_resource type="Texture2D" uid="uid://chewg68qcfq0k" path="res://assets/sprites/player/tlr-sombre-freefall.png" id="2_4pjd8"]
[ext_resource type="Texture2D" uid="uid://1v83se2v2hfb" path="res://assets/sprites/player/tlr-sombre-idle.png" id="2_561y6"]
[ext_resource type="PackedScene" uid="uid://glmeh6l6odpp" path="res://objects/hook_shot_pos_indicator/hook_shot_pos_indicator.tscn" id="3_8hvtn"]
[ext_resource type="Texture2D" uid="uid://cq6w6pe6pe05n" path="res://assets/sprites/ui/tlr-betahook-cursor.png" id="3_aswug"]
[ext_resource type="Texture2D" uid="uid://541j3u2jr4qd" path="res://assets/sprites/player/tlr-sombre-walk.png" id="3_yb35w"]
[ext_resource type="Texture2D" uid="uid://d2ru0qfhoykyk" path="res://assets/sprites/player/tlr-sombre-jumpsquat.png" id="4_2gdyk"]
[ext_resource type="Script" path="res://player/player_health.gd" id="4_lnaue"]
[ext_resource type="Script" path="res://player/hookshot_hand.gd" id="4_s1e1s"]
[ext_resource type="Texture2D" uid="uid://bf3imwmt3f8yk" path="res://assets/sprites/hook/hookshot_hand-1.png" id="5_qo580"]
[ext_resource type="Texture2D" uid="uid://ug3sjt6ijyj" path="res://assets/sprites/hook/hookshot_hand-2.png" id="6_8mkoe"]
[ext_resource type="AudioStream" uid="uid://bf2hbpcuyhpum" path="res://soundeffects/vineboom.mp3" id="6_hxv3p"]
[ext_resource type="Texture2D" uid="uid://c8ret7115jgxa" path="res://assets/sprites/hook/hookshot_hand-3.png" id="7_6tb23"]
[ext_resource type="Texture2D" uid="uid://doche4allsmwy" path="res://assets/sprites/hook/hookshot_hand.png" id="7_eyyva"]
[ext_resource type="Texture2D" uid="uid://djdm5sx6ku7fc" path="res://assets/sprites/hook/hookshot_hand-4.png" id="8_jgxmu"]
[ext_resource type="PackedScene" uid="uid://d2clbmyic26t" path="res://objects/particles/explosion.tscn" id="9_urjyp"]
[ext_resource type="Texture2D" uid="uid://urnf4ratht57" path="res://assets/sprites/player/attack_anim.png" id="14_qrbme"]
[ext_resource type="Texture2D" uid="uid://darglr61b8u42" path="res://assets/sprites/player/attack_flare.png" id="15_phk2r"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_uw8j3"]
radius = 5.0
height = 24.0

[sub_resource type="AtlasTexture" id="AtlasTexture_fpmsu"]
atlas = ExtResource("2_561y6")
region = Rect2(0, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ynk82"]
atlas = ExtResource("2_561y6")
region = Rect2(16, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_58bga"]
atlas = ExtResource("2_561y6")
region = Rect2(32, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3hbdc"]
atlas = ExtResource("2_561y6")
region = Rect2(48, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3oxke"]
atlas = ExtResource("2_561y6")
region = Rect2(64, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qcvyn"]
atlas = ExtResource("2_561y6")
region = Rect2(80, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_8frc4"]
atlas = ExtResource("2_561y6")
region = Rect2(96, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_iy4sk"]
atlas = ExtResource("2_561y6")
region = Rect2(112, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qupqx"]
atlas = ExtResource("2_561y6")
region = Rect2(128, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_x6yir"]
atlas = ExtResource("2_561y6")
region = Rect2(144, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_r7pwb"]
atlas = ExtResource("2_561y6")
region = Rect2(160, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hpc6d"]
atlas = ExtResource("2_561y6")
region = Rect2(176, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_23p1y"]
atlas = ExtResource("3_yb35w")
region = Rect2(0, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_l53te"]
atlas = ExtResource("3_yb35w")
region = Rect2(16, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_claun"]
atlas = ExtResource("3_yb35w")
region = Rect2(32, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_bly1f"]
atlas = ExtResource("3_yb35w")
region = Rect2(48, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2rjys"]
atlas = ExtResource("3_yb35w")
region = Rect2(64, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_8y1ii"]
atlas = ExtResource("3_yb35w")
region = Rect2(80, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3u85t"]
atlas = ExtResource("3_yb35w")
region = Rect2(96, 0, 16, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_s38nx"]
atlas = ExtResource("3_yb35w")
region = Rect2(112, 0, 16, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_70ofr"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_4pjd8")
}],
"loop": true,
"name": &"freefall",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_fpmsu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ynk82")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_58bga")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3hbdc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3oxke")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qcvyn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8frc4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iy4sk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qupqx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x6yir")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r7pwb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hpc6d")
}],
"loop": true,
"name": &"idle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_2gdyk")
}],
"loop": true,
"name": &"jumpsquat",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_23p1y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l53te")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_claun")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bly1f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2rjys")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8y1ii")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3u85t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s38nx")
}],
"loop": true,
"name": &"walk",
"speed": 10.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_4mt6x"]
atlas = ExtResource("7_eyyva")
region = Rect2(0, 0, 10, 5)

[sub_resource type="AtlasTexture" id="AtlasTexture_1tvt6"]
atlas = ExtResource("7_eyyva")
region = Rect2(10, 0, 10, 5)

[sub_resource type="SpriteFrames" id="SpriteFrames_m4la1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4mt6x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1tvt6")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_8k2o0"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_qo580")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_bf7py"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_8mkoe")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_o1647"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_6tb23")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_xy7ov"]
atlas = ExtResource("8_jgxmu")
region = Rect2(0, 0, 10, 5)

[sub_resource type="AtlasTexture" id="AtlasTexture_h4ybs"]
atlas = ExtResource("8_jgxmu")
region = Rect2(10, 0, 10, 5)

[sub_resource type="SpriteFrames" id="SpriteFrames_ea8w2"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xy7ov")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h4ybs")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_4ce54"]
atlas = ExtResource("14_qrbme")
region = Rect2(0, 0, 24, 12)

[sub_resource type="AtlasTexture" id="AtlasTexture_ylhd2"]
atlas = ExtResource("14_qrbme")
region = Rect2(24, 0, 24, 12)

[sub_resource type="AtlasTexture" id="AtlasTexture_sw8p5"]
atlas = ExtResource("14_qrbme")
region = Rect2(48, 0, 24, 12)

[sub_resource type="AtlasTexture" id="AtlasTexture_4mhro"]
atlas = ExtResource("14_qrbme")
region = Rect2(72, 0, 24, 12)

[sub_resource type="SpriteFrames" id="SpriteFrames_4uuot"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4ce54")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ylhd2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sw8p5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4mhro")
}],
"loop": false,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_anduk"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_k8mrq"]
resource_name = "attack"
length = 0.8
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.5, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_wc1bq"]
_data = {
"RESET": SubResource("Animation_anduk"),
"attack": SubResource("Animation_k8mrq")
}

[sub_resource type="AtlasTexture" id="AtlasTexture_mpnhe"]
atlas = ExtResource("15_phk2r")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_x4pov"]
atlas = ExtResource("15_phk2r")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_0kjtg"]
atlas = ExtResource("15_phk2r")
region = Rect2(32, 0, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_8i8ij"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_mpnhe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x4pov")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0kjtg")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_8laqw"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_jaqoa"]
resource_name = "flare"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [0, 1, 2]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ag42k"]
_data = {
"RESET": SubResource("Animation_8laqw"),
"flare": SubResource("Animation_jaqoa")
}

[node name="Player" type="CharacterBody2D" groups=["Players"]]
collision_layer = 2
floor_snap_length = 6.0
script = ExtResource("1_xsl8m")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 4)
shape = SubResource("CapsuleShape2D_uw8j3")

[node name="Sprite2D" type="AnimatedSprite2D" parent="."]
z_index = 10
position = Vector2(1.90735e-06, 2.14577e-06)
sprite_frames = SubResource("SpriteFrames_70ofr")
animation = &"jumpsquat"

[node name="HookshotHand" type="AnimatedSprite2D" parent="Sprite2D"]
visible = false
z_index = -1
position = Vector2(4, 5)
sprite_frames = SubResource("SpriteFrames_m4la1")
offset = Vector2(3, 0)
script = ExtResource("4_s1e1s")
frames = Array[SpriteFrames]([SubResource("SpriteFrames_8k2o0"), SubResource("SpriteFrames_bf7py"), SubResource("SpriteFrames_o1647"), SubResource("SpriteFrames_ea8w2")])

[node name="HookShotPosIndicator" parent="." instance=ExtResource("3_8hvtn")]
visible = false
modulate = Color(1, 1, 1, 0.639216)
texture = ExtResource("3_aswug")
show = true

[node name="FrictionParticles" type="CPUParticles2D" parent="."]
position = Vector2(0, 7)
emitting = false
amount = 25
lifetime = 0.5
lifetime_randomness = 1.0
emission_shape = 1
emission_sphere_radius = 1.0
direction = Vector2(0, -1)
spread = 30.0
gravity = Vector2(0, 920)
initial_velocity_min = 323.23
initial_velocity_max = 323.23
color = Color(1, 1, 0, 1)

[node name="HealthMan" type="Node" parent="."]
script = ExtResource("4_lnaue")

[node name="jumpboom" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("6_hxv3p")
volume_db = -1.857

[node name="Explosion" parent="." instance=ExtResource("9_urjyp")]

[node name="Attack" type="AnimatedSprite2D" parent="."]
z_index = 11
sprite_frames = SubResource("SpriteFrames_4uuot")
offset = Vector2(0, -16)

[node name="AnimationPlayer" type="AnimationPlayer" parent="Attack"]
libraries = {
"": SubResource("AnimationLibrary_wc1bq")
}
speed_scale = 2.0

[node name="AttackFlare" type="AnimatedSprite2D" parent="."]
top_level = true
z_index = 11
sprite_frames = SubResource("SpriteFrames_8i8ij")

[node name="AnimationPlayer" type="AnimationPlayer" parent="AttackFlare"]
libraries = {
"": SubResource("AnimationLibrary_ag42k")
}
speed_scale = 2.0

[connection signal="hook_fired" from="." to="." method="_on_hook_fired"]
[connection signal="hook_released" from="." to="." method="_on_hook_released"]
[connection signal="hook_released_early" from="." to="." method="_on_hook_released_early"]
